#Dijkstra wersja 2 test

from numpy import inf

graph = {'1':{'2':1,'3':1,'4':5,'5':6,'6':2,'7':3,'8':4,'9':2,'10':3,'11':4,'12':7,'13':8,'14':2,'15':3,'16':9,'17':10,'18':6,'19':5,'20':11,'21':5,'22':6,'23':7,'24':6,'25':13,'26':14,'27':7,'28':6,'29':6,'30':7,'31':7,'32':8,'33':12,'34':8,'35':7},
        '2':{'1':1,'3':1,'4':5,'5':6,'6':2,'7':3,'8':4,'9':2,'10':3,'11':4,'12':7,'13':8,'14':2,'15':3,'16':9,'17':10,'18':6,'19':5,'20':11,'21':5,'22':6,'23':7,'24':6,'25':13,'26':14,'27':7,'28':6,'29':6,'30':7,'31':7,'32':8,'33':12,'34':8,'35':7},
        '3':{'1':1,'2':1,'4':5,'5':6,'6':2,'7':3,'8':4,'9':2,'10':3,'11':4,'12':7,'13':8,'14':2,'15':3,'16':9,'17':10,'18':6,'19':5,'20':11,'21':5,'22':6,'23':7,'24':6,'25':13,'26':14,'27':7,'28':6,'29':6,'30':7,'31':7,'32':8,'33':12,'34':8,'35':7},
        '4':{'2':5,'3':5,'1':5,'5':1,'6':5,'7':7,'8':8,'9':4,'10':4,'11':4,'12':14,'13':14,'14':7,'15':7,'16':13,'17':13,'18':16,'19':17,'20':17,'21':3,'22':2,'23':2,'24':10,'25':18,'26':18,'27':4,'28':6,'29':6,'30':7,'31':9,'32':8,'33':16,'34':9,'35':2},
        '5':{'2':5,'3':5,'1':5,'4':1,'6':5,'7':7,'8':8,'9':4,'10':4,'11':4,'12':14,'13':14,'14':7,'15':7,'16':13,'17':13,'18':16,'19':17,'20':17,'21':3,'22':2,'23':2,'24':10,'25':18,'26':18,'27':4,'28':6,'29':6,'30':7,'31':9,'32':8,'33':16,'34':9,'35':2},
        '6':{'2':1,'3':1,'4':5,'5':6,'1':2,'7':3,'8':4,'9':2,'10':3,'11':4,'12':7,'13':8,'14':2,'15':3,'16':9,'17':10,'18':6,'19':5,'20':11,'21':5,'22':6,'23':7,'24':6,'25':13,'26':14,'27':7,'28':6,'29':6,'30':7,'31':7,'32':8,'33':12,'34':8,'35':7},
        '7':{'2':1,'3':1,'4':5,'5':6,'6':2,'1':3,'8':4,'9':2,'10':3,'11':4,'12':7,'13':8,'14':2,'15':3,'16':9,'17':10,'18':6,'19':5,'20':11,'21':5,'22':6,'23':7,'24':6,'25':13,'26':14,'27':7,'28':6,'29':6,'30':7,'31':7,'32':8,'33':12,'34':8,'35':7},
        '8':{'2':1,'3':1,'4':5,'5':6,'6':2,'7':3,'1':4,'9':2,'10':3,'11':4,'12':7,'13':8,'14':2,'15':3,'16':9,'17':10,'18':6,'19':5,'20':11,'21':5,'22':6,'23':7,'24':6,'25':13,'26':14,'27':7,'28':6,'29':6,'30':7,'31':7,'32':8,'33':12,'34':8,'35':7},
        '9':{'2':1,'3':1,'4':5,'5':6,'6':2,'7':3,'8':4,'1':2,'10':3,'11':4,'12':7,'13':8,'14':2,'15':3,'16':9,'17':10,'18':6,'19':5,'20':11,'21':5,'22':6,'23':7,'24':6,'25':13,'26':14,'27':7,'28':6,'29':6,'30':7,'31':7,'32':8,'33':12,'34':8,'35':7},
        '10':{'2':1,'3':1,'4':5,'5':6,'6':2,'7':3,'8':4,'9':2,'1':3,'11':4,'12':7,'13':8,'14':2,'15':3,'16':9,'17':10,'18':6,'19':5,'20':11,'21':5,'22':6,'23':7,'24':6,'25':13,'26':14,'27':7,'28':6,'29':6,'30':7,'31':7,'32':8,'33':12,'34':8,'35':7},
        '11':{'2':4,'3':4,'4':5,'5':6,'6':2,'7':3,'8':4,'9':3,'10':3,'1':4,'12':7,'13':8,'14':2,'15':3,'16':9,'17':10,'18':6,'19':5,'20':11,'21':5,'22':6,'23':7,'24':6,'25':13,'26':14,'27':7,'28':6,'29':6,'30':7,'31':7,'32':8,'33':12,'34':8,'35':7},
        '12':{'2':7,'3':7,'4':15,'5':16,'6':8,'7':5,'8':4,'9':8,'10':8,'11':10,'1':7,'13':1,'14':6,'15':6,'16':3,'17':4,'18':1,'19':2,'20':5,'21':15,'22':14,'23':16,'24':4,'25':6,'26':6,'27':10,'28':9,'29':9,'30':8,'31':2,'32':4,'33':4,'34':3,'35':11},
        '13':{'2':7,'3':7,'4':15,'5':16,'6':8,'7':5,'8':4,'9':8,'10':8,'11':10,'12':1,'1':7,'14':6,'15':6,'16':3,'17':4,'18':1,'19':2,'20':5,'21':15,'22':14,'23':16,'24':4,'25':6,'26':6,'27':10,'28':9,'29':9,'30':8,'31':2,'32':4,'33':4,'34':3,'35':11},
        '14':{'2':1,'3':1,'4':5,'5':6,'6':2,'7':3,'8':4,'9':2,'10':3,'11':4,'12':7,'13':8,'1':2,'15':3,'16':9,'17':10,'18':6,'19':5,'20':11,'21':5,'22':6,'23':7,'24':6,'25':13,'26':14,'27':7,'28':6,'29':6,'30':7,'31':7,'32':8,'33':12,'34':8,'35':7},
        '15':{'2':1,'3':1,'4':5,'5':6,'6':2,'7':3,'8':4,'9':2,'10':3,'11':4,'12':7,'13':8,'14':2,'1':3,'16':9,'17':10,'18':6,'19':5,'20':11,'21':5,'22':6,'23':7,'24':6,'25':13,'26':14,'27':7,'28':6,'29':6,'30':7,'31':7,'32':8,'33':12,'34':8,'35':7},
        '16':{'2':7,'3':7,'4':15,'5':16,'6':8,'7':5,'8':4,'9':8,'10':8,'11':10,'12':2,'13':1,'14':6,'15':6,'1':9,'17':4,'18':1,'19':2,'20':5,'21':15,'22':14,'23':16,'24':4,'25':6,'26':6,'27':10,'28':9,'29':9,'30':8,'31':2,'32':4,'33':4,'34':3,'35':11},
        '17':{'2':7,'3':7,'4':15,'5':16,'6':8,'7':5,'8':4,'9':8,'10':8,'11':10,'1':7,'13':1,'14':6,'15':6,'16':3,'12':4,'18':1,'19':2,'20':5,'21':15,'22':14,'23':16,'24':4,'25':6,'26':6,'27':10,'28':9,'29':9,'30':8,'31':2,'32':4,'33':4,'34':3,'35':11},
        '18':{'2':7,'3':7,'4':15,'5':16,'6':8,'7':5,'8':4,'9':8,'10':8,'11':10,'1':7,'13':1,'14':6,'15':6,'16':3,'17':4,'12':1,'19':2,'20':5,'21':15,'22':14,'23':16,'24':4,'25':6,'26':6,'27':10,'28':9,'29':9,'30':8,'31':2,'32':4,'33':4,'34':3,'35':11},
        '19':{'2':7,'3':7,'4':15,'5':16,'6':8,'7':5,'8':4,'9':8,'10':8,'11':10,'1':7,'13':1,'14':6,'15':6,'16':3,'17':4,'18':1,'12':2,'20':5,'21':15,'22':14,'23':16,'24':4,'25':6,'26':6,'27':10,'28':9,'29':9,'30':8,'31':2,'32':4,'33':4,'34':3,'35':11},
        '20':{'2':7,'3':7,'4':15,'5':16,'6':8,'7':5,'8':4,'9':8,'10':8,'11':10,'1':7,'13':1,'14':6,'15':6,'16':3,'17':4,'18':1,'19':2,'12':5,'21':15,'22':14,'23':16,'24':4,'25':6,'26':6,'27':10,'28':9,'29':9,'30':8,'31':2,'32':4,'33':4,'34':3,'35':11},
        '21':{'2':4,'3':4,'4':4,'5':5,'6':2,'7':3,'8':4,'9':2,'1':3,'11':4,'12':7,'13':8,'14':2,'15':3,'16':9,'17':10,'18':6,'19':5,'20':11,'10':5,'22':1,'23':1,'24':6,'25':13,'26':14,'27':7,'28':6,'29':6,'30':7,'31':7,'32':8,'33':12,'34':8,'35':7},
        '22':{'2':4,'3':4,'4':3,'5':4,'6':3,'7':5,'8':6,'9':4,'10':3,'11':1,'12':7,'13':8,'14':2,'15':3,'16':9,'17':10,'18':6,'19':5,'20':11,'21':1,'1':6,'23':7,'24':6,'25':13,'26':14,'27':7,'28':6,'29':6,'30':7,'31':7,'32':8,'33':12,'34':8,'35':2},
        '23':{'2':4,'3':4,'4':3,'5':4,'6':3,'7':5,'8':6,'9':4,'10':3,'11':1,'12':7,'13':8,'14':2,'15':3,'16':9,'17':10,'18':6,'19':5,'20':11,'21':1,'1':6,'22':1,'24':6,'25':13,'26':14,'27':7,'28':6,'29':6,'30':7,'31':7,'32':8,'33':12,'34':8,'35':2},
        '24':{'2':4,'3':4,'4':9,'5':10,'6':5,'7':3,'8':2,'9':5,'10':5,'11':7,'12':1,'13':2,'14':3,'15':2,'16':3,'17':4,'18':1,'19':2,'20':4,'21':9,'22':10,'23':11,'1':6,'25':6,'26':6,'27':7,'28':6,'29':6,'30':7,'31':1,'32':8,'33':12,'34':3,'35':8},
        '25':{'2':13,'3':13,'4':15,'5':16,'6':14,'7':12,'8':11,'9':14,'10':14,'11':15,'12':7,'13':8,'14':2,'15':3,'16':9,'17':10,'18':6,'19':5,'20':11,'21':5,'22':6,'23':7,'24':6,'1':13,'26':1,'27':7,'28':6,'29':6,'30':5,'31':7,'32':4,'33':1,'34':2,'35':7},
        '26':{'2':13,'3':13,'4':15,'5':16,'6':14,'7':12,'8':11,'9':14,'10':14,'11':15,'12':7,'13':8,'14':2,'15':3,'16':9,'17':10,'18':6,'19':5,'20':11,'21':5,'22':6,'23':7,'24':6,'1':13,'25':1,'27':7,'28':6,'29':6,'30':5,'31':7,'32':4,'33':1,'34':2,'35':7},
        '27':{'2':4,'3':4,'4':6,'5':7,'6':2,'7':3,'8':4,'9':5,'10':5,'11':6,'12':7,'13':8,'14':2,'1':3,'16':9,'17':10,'18':6,'19':5,'20':11,'21':5,'22':6,'23':7,'24':6,'25':4,'26':4,'32':4,'28':3,'29':3,'30':2,'31':7,'33':3,'15':3,'34':1,'35':7},
        '28':{'2':4,'3':4,'4':6,'5':7,'6':2,'7':3,'8':4,'9':5,'10':5,'11':6,'12':7,'13':8,'14':2,'1':3,'16':9,'17':10,'18':6,'19':5,'20':11,'21':5,'22':6,'23':7,'24':6,'25':4,'26':4,'27':4,'32':3,'29':3,'30':2,'31':7,'33':3,'15':3,'34':1,'35':7},
        '29':{'2':4,'3':4,'4':6,'5':7,'6':2,'7':3,'8':4,'9':5,'10':5,'11':6,'12':7,'13':8,'14':2,'1':3,'16':9,'17':10,'18':6,'19':5,'20':11,'21':5,'22':6,'23':7,'24':6,'25':4,'26':4,'27':4,'28':3,'32':3,'30':2,'31':7,'33':3,'15':3,'34':1,'35':7},
        '30':{'2':4,'3':4,'4':6,'5':7,'6':2,'7':3,'8':4,'9':5,'10':5,'11':6,'12':7,'13':8,'14':2,'1':3,'16':9,'17':10,'18':6,'19':5,'20':11,'21':5,'22':6,'23':7,'24':6,'25':4,'26':4,'27':4,'28':3,'29':3,'32':2,'31':7,'33':3,'15':3,'34':1,'35':7},
        '31':{'2':4,'3':4,'4':9,'5':10,'6':5,'7':3,'8':2,'9':5,'10':5,'11':7,'12':1,'13':2,'14':3,'15':2,'16':3,'17':4,'18':1,'19':2,'20':4,'21':9,'22':10,'23':11,'1':6,'25':6,'26':6,'27':7,'28':6,'29':6,'30':7,'24':1,'32':8,'33':12,'34':3,'35':8},
        '32':{'2':4,'3':4,'4':6,'5':7,'6':2,'7':3,'8':4,'9':5,'10':5,'11':6,'12':7,'13':8,'14':2,'1':3,'16':9,'17':10,'18':6,'19':5,'20':11,'21':5,'22':6,'23':7,'24':6,'25':4,'26':4,'27':4,'28':3,'29':3,'30':2,'31':7,'33':3,'15':3,'34':1,'35':7},
        '33':{'2':13,'3':13,'4':15,'5':16,'6':14,'7':12,'8':11,'9':14,'10':14,'11':15,'12':7,'13':8,'14':2,'15':3,'16':9,'17':10,'18':6,'19':5,'20':11,'21':5,'22':6,'23':7,'24':6,'1':13,'26':1,'27':7,'28':6,'29':6,'30':5,'31':7,'32':4,'25':1,'34':2,'35':7},
        '34':{'2':13,'3':13,'4':15,'5':16,'6':14,'7':12,'8':11,'9':14,'10':14,'11':15,'12':7,'13':8,'14':2,'15':3,'16':9,'17':10,'18':6,'19':5,'20':11,'21':5,'22':6,'23':7,'24':6,'1':13,'26':1,'27':7,'28':6,'29':6,'30':5,'31':7,'32':4,'33':1,'25':2,'35':7},
        '35':{'2':3,'3':3,'4':2,'5':3,'6':3,'7':4,'8':5,'9':2,'1':3,'11':4,'12':7,'13':8,'14':2,'15':3,'16':9,'17':10,'18':6,'19':5,'20':11,'21':5,'22':6,'23':7,'24':6,'25':13,'26':14,'27':7,'28':6,'29':6,'30':7,'31':7,'32':8,'33':12,'34':8,'10':2},
        'O':{'26':1,'2':13,'3':13,'4':15,'5':16,'6':14,'7':12,'8':11,'9':14,'10':14,'11':15,'12':7,'13':8,'14':2,'15':3,'16':9,'17':10,'18':6,'19':5,'20':11,'21':5,'22':6,'23':7,'24':6,'1':13,'25':1,'27':7,'28':6,'29':6,'30':5,'31':7,'32':4,'33':1,'34':2,'35':7},}


graff = {'A': {'C': 5, 'D': 1, 'E': 2}, 'B': {'H': 1, 'G': 3}, 'C': {'I': 2, 'D': 3, 'A': 5},
         'D': {'C': 3, 'A': 1, 'H': 2}, 'E': {'A': 2, 'F': 3},
         'F': {'E': 3, 'G': 1}, 'G': {'F': 1, 'B': 3, 'H': 2}, 'H': {'I': 2, 'D': 2, 'B': 1, 'G': 2},
         'I': {'C': 2, 'H': 2}}

costs = {'O': 0, '1': inf, '2': inf, '3': inf, '4': inf, '5': inf, '6': inf, '7': inf, '8': inf, '9': inf, '10': inf, '11': inf, '12': inf, '13': inf, '14': inf, '15': inf, '16': inf, '17': inf, '18': inf, '19': inf, '20': inf, '21': inf, '22': inf, '23': inf, '24': inf, '25': inf, '26': inf, '27': inf, '28': inf, '29': inf, '30': inf, '31': inf, '32': inf, '33': inf, '34': inf, '35': inf}

parents = {}

def search(source, target, graph, costs, parents):

    nextNode = source

    while nextNode != target:

        for neighbor in graph[nextNode]:

            if graph[nextNode][neighbor] + costs[nextNode] < costs[neighbor]:

                costs[neighbor] = graph[nextNode][neighbor] + costs[nextNode]

                parents[neighbor] = nextNode

            del graph[neighbor][nextNode]

        del costs[nextNode]

        nextNode = min(costs, key=costs.get)

    return parents

result = search('1', '3', graph, costs, parents)

def backpedal(source, target, searchResult):

    node = target

    backpath = [target]

    path = []

    while node != source:

        backpath.append(searchResult[node])

        node = searchResult[node]

    for i in range(len(backpath)):

        path.append(backpath[-i - 1])

    return path

print('parent dictionary={}'.format(result))

print('longest path={}'.format(backpedal('1', '3', result)))